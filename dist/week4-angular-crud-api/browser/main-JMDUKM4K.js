import{$ as c,$a as I,A as C,Aa as p,Ba as $,D as j,E as V,Ea as B,F as _,Fa as W,G as S,Ga as q,M as z,N as v,Oa as J,Pa as K,Qa as P,Sa as Z,Ta as Q,U as a,Ua as X,Va as ee,Wa as te,Xa as oe,Ya as ne,Z as h,Za as ie,_a as re,ab as ae,bb as se,cb as ce,da as x,eb as y,fa as G,fb as le,gb as me,ha as d,ia as i,ja as r,k as F,ka as k,la as l,ma as m,n as U,oa as M,pa as E,q as R,qa as u,ya as n,za as Y}from"./chunk-LNUFMWG4.js";var O=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-about"]],decls:14,vars:0,consts:[[1,"about"]],template:function(e,s){e&1&&(l(0,"div",0)(1,"h2"),n(2,"About Task Manager"),m(),l(3,"p"),n(4,"This is a simple task management application built with Angular."),m(),l(5,"p"),n(6,"Features:"),m(),l(7,"ul")(8,"li"),n(9,"Add, edit, and delete tasks"),m(),l(10,"li"),n(11,"Filter tasks by status"),m(),l(12,"li"),n(13,"Load tasks from API"),m()()())},encapsulation:2})};var T=class t{constructor(o){this.http=o}apiUrl=`${le.apiUrl}`;getUser(){return this.http.get(`${this.apiUrl}/user`).pipe(R(o=>(console.error("Failed to load user:",o),F(()=>o))))}getSettings(){return this.http.get(`${this.apiUrl}/settings`).pipe(R(o=>(console.error("Failed to load settings:",o),F(()=>o))))}static \u0275fac=function(e){return new(e||t)(j(Q))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var A=class t{isAuthenticated=!1;login(){this.isAuthenticated=!0}logout(){this.isAuthenticated=!1}isLoggedIn(){return this.isAuthenticated}static \u0275fac=function(e){return new(e||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};function ve(t,o){t&1&&(i(0,"div",8),n(1," Loading... "),r())}function he(t,o){if(t&1&&(i(0,"div")(1,"p"),n(2),r(),i(3,"p"),n(4),r()()),t&2){let e=u(2);a(2),p("Theme: ",e.settings().theme),a(2),p("Notifications: ",e.settings().notifications?"Enabled":"Disabled")}}function xe(t,o){if(t&1){let e=M();i(0,"div")(1,"h2"),n(2),r(),i(3,"p"),n(4),r(),i(5,"p"),n(6),B(7,"date"),r(),i(8,"div",9)(9,"p"),n(10),r(),i(11,"p"),n(12),r(),i(13,"p"),n(14),r()(),x(15,he,5,2,"div",2),i(16,"button",10),E("click",function(){_(e);let f=u();return S(f.goToTasks())}),n(17,"Go to Tasks"),r()()}if(t&2){let e=u();a(2),p("Welcome, ",e.user().name,"!"),a(2),p("Email: ",e.user().email),a(2),p("Today is: ",W(7,8,e.currentDate,"fullDate")),a(4),p("You have ",e.tasksCount()," tasks."),a(2),$("You have completed ",e.completedCount()," / ",e.tasksCount()),a(2),p("Progress: ",e.completionPercentage(),"%"),a(),d("ngIf",e.settings)}}function be(t,o){if(t&1&&(i(0,"div",11),n(1),r()),t&2){let e=u();a(),p(" ",e.errorMessage()," ")}}function Ce(t,o){if(t&1&&(i(0,"div",12),n(1),r()),t&2){let e=u();a(),p(" ",e.authMessage(),`
`)}}function _e(t,o){if(t&1){let e=M();i(0,"button",10),E("click",function(){_(e);let f=u();return S(f.login())}),n(1,"Login"),r()}}function Se(t,o){if(t&1){let e=M();i(0,"button",13),E("click",function(){_(e);let f=u();return S(f.logout())}),n(1,"Logout"),r()}}var w=class t{constructor(o,e,s,f){this.userService=o;this.authService=e;this.router=s;this.route=f;this.route.queryParams.subscribe(ue=>{ue.reason==="auth"&&(this.authMessage.set("You must be logged in to view tasks!"),setTimeout(()=>this.authMessage.set(null),3e3))})}taskStateService=V(y);user=v(null);settings=v(null);isLoading=v(!0);currentDate=new Date;authMessage=v(null);errorMessage=v(null);tasksCount=this.taskStateService.tasksCount;completedCount=this.taskStateService.completedCount;activeCount=this.taskStateService.activeCount;completionPercentage=q(()=>{let o=this.tasksCount(),e=this.completedCount();return o===0?0:Math.round(e/o*100)});ngOnInit(){this.isLoading.set(!0),U({user:this.userService.getUser(),settings:this.userService.getSettings()}).subscribe({next:({user:o,settings:e})=>{this.user.set(o),this.settings.set(e),this.isLoading.set(!1)},error:o=>{this.errorMessage.set("Failed to load data"),this.isLoading.set(!1),console.error(o)}})}goToTasks(){this.router.navigate(["/tasks"])}get isLoggedIn(){return this.authService.isLoggedIn()}login(){this.authService.login()}logout(){this.authService.logout(),this.taskStateService.reset()}static \u0275fac=function(e){return new(e||t)(h(T),h(A),h(re),h(ne))};static \u0275cmp=c({type:t,selectors:[["app-home"]],decls:8,vars:6,consts:[[1,"home"],["class","loading",4,"ngIf"],[4,"ngIf"],["class","error",4,"ngIf"],["class","auth-message",4,"ngIf"],[1,"auth-actions"],[3,"click",4,"ngIf"],["class","btn-logout",3,"click",4,"ngIf"],[1,"loading"],[1,"stats"],[3,"click"],[1,"error"],[1,"auth-message"],[1,"btn-logout",3,"click"]],template:function(e,s){e&1&&(i(0,"div",0),x(1,ve,2,0,"div",1)(2,xe,18,11,"div",2)(3,be,2,1,"div",3),r(),x(4,Ce,2,1,"div",4),i(5,"div",5),x(6,_e,2,0,"button",6)(7,Se,2,0,"button",7),r()),e&2&&(a(),d("ngIf",s.isLoading()),a(),d("ngIf",!s.isLoading()&&s.user),a(),d("ngIf",s.errorMessage()),a(),d("ngIf",s.authMessage()),a(2),d("ngIf",!s.isLoggedIn),a(),d("ngIf",s.isLoggedIn))},dependencies:[P,J,K],styles:[".home[_ngcontent-%COMP%]{max-width:700px;margin:60px auto 40px;padding:32px;background-color:var(--color-surface);border:1px solid var(--color-border);border-radius:8px;text-align:center}.home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:16px;font-size:28px;font-weight:600;color:var(--color-text)}.home[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:16px;color:var(--color-text-secondary)}.home[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(2), .home[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(3){font-weight:500;color:var(--color-text)}.home[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:24px;padding:10px 20px;background-color:var(--color-primary);color:#fff;border:none;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.home[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-hover)}.auth-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-bottom:40px}.auth-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 18px;font-size:14px;font-weight:500;border-radius:4px;border:none;cursor:pointer;transition:all .2s}.auth-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.btn-logout){background-color:var(--color-secondary);color:var(--color-text)}.auth-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.btn-logout):hover{background-color:var(--color-secondary-hover)}.btn-logout[_ngcontent-%COMP%]{background-color:rgba(var(--color-error-rgb),.1);color:var(--color-error)}.btn-logout[_ngcontent-%COMP%]:hover{background-color:rgba(var(--color-error-rgb),.2)}.auth-message[_ngcontent-%COMP%]{margin:12px 0;padding:10px 14px;background-color:#fff3cd;border:1px solid #ffeeba;color:#856404;border-radius:6px;font-size:14px}"]})};var D=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-not-found"]],decls:7,vars:0,consts:[[1,"not-found"],["routerLink","/home"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"h1"),n(2,"404 - Page Not Found"),r(),i(3,"p"),n(4,"The page you're looking for doesn't exist."),r(),i(5,"button",1),n(6,"Go to Home"),r()())},dependencies:[I],encapsulation:2})};var pe=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:w},{path:"about",component:O},{path:"tasks",loadChildren:()=>import("./chunk-4F5X4EQK.js").then(t=>t.TASKS_ROUTES)},{path:"**",component:D}];function ke(t,o){return()=>new Promise(e=>{o.getTasks().subscribe({next:s=>{t.setTasks(s),e()},error:()=>e()})})}var de={providers:[X(ee()),z(),se(pe,ce(ae)),oe(te()),{provide:G,useFactory:ke,deps:[y,me],multi:!0}]};var L=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-header"]],decls:3,vars:0,template:function(e,s){e&1&&(l(0,"header")(1,"h1"),n(2,"Task Manager"),m()())},encapsulation:2})};var N=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-footer"]],decls:2,vars:0,template:function(e,s){e&1&&(l(0,"p"),n(1,"\xA9 2026 Angular Task Manager"),m())},encapsulation:2})};var H=class t{title="Week 2 Angular";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-root"]],decls:18,vars:1,consts:[[1,"app-container"],[1,"navbar"],[1,"nav-menu"],["routerLink","/home","routerLinkActive","active"],["routerLink","/tasks","routerLinkActive","active"],["routerLink","/about","routerLinkActive","active"],[1,"content"]],template:function(e,s){e&1&&(k(0,"app-header"),i(1,"div",0)(2,"nav",1)(3,"h1"),n(4),r(),i(5,"ul",2)(6,"li")(7,"a",3),n(8,"Home"),r()(),i(9,"li")(10,"a",4),n(11,"Tasks"),r()(),i(12,"li")(13,"a",5),n(14,"About"),r()()()(),i(15,"main",6),k(16,"router-outlet"),r()(),k(17,"app-footer")),e&2&&(a(4),Y(s.title))},dependencies:[L,N,P,ie,I],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.navbar[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}.navbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}.nav-menu[_ngcontent-%COMP%]{list-style:none;display:flex;gap:1.5rem;margin:0;padding:0}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:.5rem 1rem;border-radius:4px;transition:background-color .3s}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#555}.nav-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#007bff;font-weight:700}.content[_ngcontent-%COMP%]{flex:1;padding:2rem}footer[_ngcontent-%COMP%]{background-color:#f1f1f1;text-align:center;padding:1rem;margin-top:auto}"]})};Z(H,de).catch(t=>console.error(t));
